language: java
jdk:
- openjdk8
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.m2"
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_install:
- chmod a+x ./gradlew
script:
- "./gradlew test"
deploy:
  provider: script
  script: "./gradlew publish"
  on:
    all_branches: true
    condition: "$TRAVIS_BRANCH =~ ^(master|develop)$"
    java: openjdk8
env:
  global:
  - secure: XhpBeex3GzKa+OLADjaLO/f5ISmDAvKxNc+k5chR7WO9ZcWR994+KpvxJRgjpi400la6x1AtdI4IaM/CDy7oKiKPvRZrtkebTiPBxBDBl8aQ9MewLoo9iyfPWFHiWGMLgBTqYttPbq1UB3L+ELdBm0nPPGnVE+oqr2moCe4GnY5xv+HVk/ZxrnTKqBM//msIuIGnIbf3bZhEQ0vOCF/qU1NMqlJ1OdHA8YZk/JTAKK50IYUFynQSn8+KjRrPv/xpavlsWDExY+xLlj6W74m2+ZRA4TDQ5Z0HhzPA2BPuyDdB0QCJCdPUD5mG793mQsgD7ch4LqC7a+OIZRcJ/4w8l0e97CAWCNttvrdvuEsUHKEcWKHyL4q8K4NyrRkcyZwOi22jH4FIDsnI+RYzo7E21TOThofoxEyrhBjhn4W5sbjGV/VqPHMhstZECLdp3CzJz9+a1pYGvkCD3tVk0Gr3M6lwrDkBmUK7E9Mc7DCtbA7T54Rkql0k55GrG5N2CvuwIiiYALaJINWOloRY33BOGTUJbqyYDxW8Xu1tYdOP11zSzuEit+GKjsmw1CqgNfqCyre1FInQClSy0oFCfQStaKjZDPrE9QCR9bYADFNEGR/tqEZsZ5sqXRUxzLq7j0R+TEckGtgoxCpRxiWIFsj79m1NRQuhFA1Q9T3lxuqaedc=
